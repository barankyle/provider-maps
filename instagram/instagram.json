{
  "version": "1.0",

  "name": "Instagram",
  "description": "Mobile photo-sharing, video-sharing and social networking service.",
  "url": "https://api.instagram.com",
  "tags": ["media", "social"],

  "auth": {
    "type": "oauth2",
    "redirect_url": "https://www.instagram.com",
    "authorization_url": "https://api.instagram.com/oauth/authorize",

    "access_token": "https://api.instagram.com/oauth/access_token",

    "signature": "parameter",

    "auth_key": null,
    "auth_secret": null
  },

  "meta": {
    "uniqueness_location": "id",
    "default_name_location": "username",
    "endpoint": {
      "method": "GET",
      "route": {
        "data": "data",
        "path": "v1/users/self"
      },
      "model": {
        "key": "id",
        "fields": {
          "id": "string",
          "username": "string"
        }
      }
    }
  },

  "endpoints": {
    "PublishedMedia": {
      "method": "GET",
      "scopes": ["basic"],
      "parameters": {
        "count": {
          "description": "Pagination counts",
          "value": 20
        },
        "min_id": {
          "description": "Most recent item that was saved in Bitscoop",
          "value": "$connection.endpoint_data.PublishedMedia.min_id"
        },
        "max_id": {
          "description": "Highest ID to retrieve",
          "value": "$connection.endpoint_data.PublishedMedia.max_id"
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data",
          "path": "v1/users/self/media/recent"
        }
      },
      "model": {
        "key": "name",
        "fields": {
          "created_time": "string",
          "location": {
            "type": "embedded",
            "fields": {
              "longitude": "number",
              "latitude": "number"
            }
          },
          "type": "string",
          "caption": {
            "type": "embedded",
            "fields": {
              "text": "string"
            }
          },
          "images": {
            "type": "embedded",
            "fields": {
              "standard_resolution": {
                "type": "embedded",
                "fields": {
                  "url": "string"
                }
              },
              "thumbnail": {
                "type": "embedded",
                "fields": {
                  "url": "string"
                }
              }
            }
          },
          "videos": {
            "type": "embedded",
            "fields": {
              "standard_resolution": {
                "type": "embedded",
                "fields": {
                  "url": "string"
                }
              }
            }
          },
          "tags": {
            "type": "string",
            "many": true
          },
          "link": "string",
          "id": "string",
          "comments": {
            "type": "embedded",
            "fields": {
              "count": "number",
              "data": {
                "type": "embedded",
                "many": true,
                "fields": {
                  "from": {
                    "type": "embedded",
                    "fields": {
                      "id": "string",
                      "profile_picture": "string",
                      "username": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "Likes": {
      "method": "GET",
      "scopes": [
        "public_content"
      ],
      "parameters": {
        "count": {
          "description": "Pagination counts",
          "value": 20
        },
        "min_id": {
          "description": "Most recent item that was saved in Bitscoop",
          "value": "$connection.endpoint_data.Likes.min_id"
        },
        "max_id": {
          "description": "Highest ID to retrieve",
          "value": "$connection.endpoint_data.Likes.max_id"
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data",
          "path": "v1/users/self/media/liked"
        }
      },
      "model": {
        "key": "name",
        "fields": {
          "created_time": "string",
          "location": {
            "type": "embedded",
            "fields": {
              "longitude": "number",
              "latitude": "number"
            }
          },
          "type": "string",
          "caption": {
            "type": "embedded",
            "fields": {
              "text": "string"
            }
          },
          "images": {
            "type": "embedded",
            "fields": {
              "standard_resolution": {
                "type": "embedded",
                "fields": {
                  "url": "string"
                }
              },
              "thumbnail": {
                "type": "embedded",
                "fields": {
                  "url": "string"
                }
              }
            }
          },
          "videos": {
            "type": "embedded",
            "fields": {
              "standard_resolution": {
                "type": "embedded",
                "fields": {
                  "url": "string"
                }
              }
            }
          },
          "tags": {
            "type": "string",
            "many": true
          },
          "link": "string",
          "id": "string",
          "comments": {
            "type": "embedded",
            "fields": {
              "count": "number",
              "data": {
                "type": "embedded",
                "many": true,
                "fields": {
                  "from": {
                    "type": "embedded",
                    "fields": {
                      "id": "string",
                      "profile_picture": "string",
                      "username": "string"
                    }
                  }
                }
              }
            }
          },
          "user": {
            "type": "embedded",
            "fields": {
              "id": "string",
              "profile_picture": "string",
              "username": "string",
              "full_name": "string"
            }
          }
        }
      }
    }
  }
}
