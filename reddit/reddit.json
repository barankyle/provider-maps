{
  "version": "1.0",

  "name": "reddit",
  "description": "Entertainment, social networking service and news website.",
  "url": "https://oauth.reddit.com",
  "tags": ["media", "social"],

  "auth": {
    "type": "oauth2",
    "redirect_url": "https://www.reddit.com",
    "authorization_url": "https://ssl.reddit.com/api/v1/authorize?duration=permanent",

    "access_token": {
      "method": "POST",
      "url": "https://ssl.reddit.com/api/v1/access_token"
    },
    "use_auth_header": true,

    "signature": "header",

    "auth_key": null,
    "auth_secret": null
  },

  "meta": {
    "uniqueness_location": "id",
    "default_name_location": "name",
    "endpoint": {
      "method": "GET",
      "scopes": ["identity"],
      "route": {
        "data": "",
        "path": "api/v1/me"
      },
      "model": {
        "key": "id",
        "fields": {
          "name": "string",
          "id": "string"
        }
      }
    }
  },

  "endpoints": {
    "Comments": {
      "method": "GET",
      "scopes": ["history"],
      "parameters": {
        "after": {
          "description": "Most recent post",
          "value": "$connection.endpoint_data.Comments.after"
        },
        "limit": {
          "description": "Maximum number of results to return at one time",
          "value": 100
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data.children",
          "path": "user/{{ connection.metadata.name }}/comments/.json"
        }
      },
      "model": {
        "key": "data.name",
        "fields": {
          "id": "string",
          "data": {
            "type": "embedded",
            "fields": {
              "id": "string",
              "name": "string",
              "link_title": "string",
              "body": "string",
              "selftext": "string",
              "title": "string",
              "link_url": "string",
              "thumbnail": "string",
              "permalink": "string",
              "secure_media": {
                "type": "embedded",
                "fields": {
                  "oembed": {
                    "type": "embedded",
                    "fields": {
                      "provider_name": "string",
                      "url": "string",
                      "html": "string",
                      "thumbnail": "string",
                      "title": "string",
                      "type": "string"
                    }
                  }
                }
              },
              "created_utc": "integer",
              "url": "string"
            }
          },
          "oembed": {
            "type": "related",
            "ref": "OEmbed",
            "many": false,
            "reverse": {
              "parameters": {
                "url": "{{ data.link_url }}{{ data.id }}"
              }
            }
          }
        }
      }
    },
    "ThreadsSubmitted": {
      "method": "GET",
      "scopes": ["history"],
      "parameters": {
        "after": {
          "description": "Most recent post",
          "value": "$connection.endpoint_data.ThreadsSubmitted.after"
        },
        "limit": {
          "description": "Maximum number of results to return at one time",
          "value": 100
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data.children",
          "path": "user/{{ connection.metadata.name }}/submitted/.json"
        }
      },
      "model": {
        "key": "data.name",
        "fields": {
          "id": "string",
          "data": {
            "type": "embedded",
            "fields": {
              "id": "string",
              "name": "string",
              "selftext": "string",
              "title": "string",
              "thumbnail": "string",
              "permalink": "string",
              "created_utc": "integer"
            }
          }
        }
      }
    },
    "ThreadsUpvoted": {
      "method": "GET",
      "scopes": ["history"],
      "parameters": {
        "after": {
          "description": "Most recent post",
          "value": "$connection.endpoint_data.ThreadsUpvoted.after"
        },
        "limit": {
          "description": "Maximum number of results to return at one time",
          "value": 100
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data.children",
          "path": "user/{{ connection.metadata.name }}/upvoted/.json"
        }
      },
      "model": {
        "key": "data.name",
        "fields": {
          "id": "string",
          "data": {
            "type": "embedded",
            "fields": {
              "id": "string",
              "name": "string",
              "selftext": "string",
              "title": "string",
              "thumbnail": "string",
              "permalink": "string",
              "author": "string"
            }
          }
        }
      }
    },
    "ThreadsDownvoted": {
      "method": "GET",
      "scopes": ["history"],
      "parameters": {
        "after": {
          "description": "Most recent post",
          "value": "$connection.endpoint_data.ThreadsDownvoted.after"
        },
        "limit": {
          "description": "Maximum number of results to return at one time",
          "value": 100
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data.children",
          "path": "user/{{ connection.metadata.name }}/downvoted/.json"
        }
      },
      "model": {
        "key": "data.name",
        "fields": {
          "id": "string",
          "data": {
            "type": "embedded",
            "fields": {
              "id": "string",
              "name": "string",
              "selftext": "string",
              "title": "string",
              "permalink": "string",
              "author": "string"
            }
          }
        }
      }
    },
    "SavedComments": {
      "method": "GET",
      "scopes": ["history"],
      "parameters": {
        "after": {
          "description": "Most recent post",
          "value": "$connection.endpoint_data.SavedComments.after"
        },
        "limit": {
          "description": "Maximum number of results to return at one time",
          "value": 100
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data.children",
          "path": "user/{{ connection.metadata.name }}/saved/.json"
        }
      },
      "model": {
        "key": "data.name",
        "fields": {
          "id": "string",
          "data": {
            "type": "embedded",
            "fields": {
              "id": "string",
              "name": "string",
              "link_title": "string",
              "body": "string",
              "selftext": "string",
              "title": "string",
              "link_url": "string",
              "thumbnail": "string",
              "permalink": "string",
              "secure_media": {
                "type": "embedded",
                "nullable": true,
                "fields": {
                  "oembed": {
                    "type": "embedded",
                    "fields": {
                      "provider_name": "string",
                      "url": "string",
                      "html": "string",
                      "thumbnail": "string",
                      "title": "string",
                      "type": "string"
                    }
                  }
                }
              },
              "created_utc": "integer",
              "url": "string"
            }
          }
        }
      }
    },
    "GildedComments": {
      "method": "GET",
      "scopes": ["history"],
      "parameters": {
        "after": {
          "description": "Most recent post",
          "value": "$connection.endpoint_data.GildedComments.after"
        },
        "limit": {
          "description": "Maximum number of results to return at one time",
          "value": 100
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data.children",
          "path": "user/{{ connection.metadata.name }}/gilded/.json"
        }
      },
      "model": {
        "key": "data.name",
        "fields": {
          "id": "string",
          "data": {
            "type": "embedded",
            "fields": {
              "id": "string",
              "name": "string",
              "link_title": "string",
              "body": "string",
              "selftext": "string",
              "title": "string",
              "link_url": "string",
              "thumbnail": "string",
              "permalink": "string",
              "secure_media": {
                "type": "embedded",
                "nullable": true,
                "fields": {
                  "oembed": {
                    "type": "embedded",
                    "fields": {
                      "provider_name": "string",
                      "url": "string",
                      "html": "string",
                      "thumbnail": "string",
                      "title": "string",
                      "type": "string"
                    }
                  }
                }
              },
              "created_utc": "integer",
              "url": "string",
              "author": "string"
            }
          }
        }
      }
    },
    "MessagesReceived": {
      "method": "GET",
      "scopes": ["privatemessages"],
      "parameters": {
        "after": {
          "description": "Most recent post",
          "value": "$connection.endpoint_data.MessagesReceived.after"
        },
        "limit": {
          "description": "Maximum number of results to return at one time",
          "value": 100
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data.children",
          "path": "message/inbox/.json"
        }
      },
      "model": {
        "key": "data.name",
        "fields": {
          "id": "string",
          "data": {
            "type": "embedded",
            "fields": {
              "name": "string",
              "subject": "string",
              "body": "string",
              "created_utc": "integer",
              "author": "string"
            }
          }
        }
      }
    },
    "MessagesSent": {
      "method": "GET",
      "scopes": ["privatemessages"],
      "parameters": {
        "after": {
          "description": "Most recent post",
          "value": "$connection.endpoint_data.MessagesSent.after"
        },
        "limit": {
          "description": "Maximum number of results to return at one time",
          "value": 100
        }
      },
      "routes": {
        "single": null,
        "collection": {
          "data": "data.children",
          "path": "message/sent/.json"
        }
      },
      "model": {
        "key": "data.name",
        "fields": {
          "id": "string",
          "data": {
            "type": "embedded",
            "fields": {
              "name": "string",
              "subject": "string",
              "body": "string",
              "created_utc": "integer",
              "dest": "string"
            }
          }
        }
      }
    },
    "OEmbed": {
      "method": "GET",
      "except": [404],
      "parameters": {
        "url": {
          "description": "URL of reddit object",
          "supplied": true
        }
      },
      "routes": {
        "single": {
          "data": "",
          "path": "https://www.reddit.com/oembed"
        }
      },
      "model": {
        "key": "",
        "fields": {
          "html": "string"
        }
      }
    }
  }
}
